import test from 'ava'
import fs from 'fs'
import ansiTo from '.'

const fixtures = {
	chalkStylesAnsi: fs.readFileSync('./fixtures/fixture.chalk-styles.ansi').toString()
}

// test('ansiTo', t => {
// 	t.is(typeof ansiTo, 'object')

// 	const ansiStr = '\u001b[37m{                               \u001b[39m\n\u001b[37m    \u001b[33mfoobar:\u001b[37m \u001b[32m1337\u001b[37m,               \u001b[39m\n\u001b[37m    \u001b[36m\'baz-qux\':\u001b[37m \u001b[37m\u001b[37m\u001b[31mfunction\u001b[37m (\u001b[34ma, b\u001b[37m) \u001b[37m{\u001b[39m\n\u001b[37m        \u001b[31mreturn\u001b[37m \u001b[33m\'Wombat!\'\u001b[37m;       \u001b[39m\n\u001b[37m    }\u001b[37m                           \u001b[39m\n\u001b[37m}                               \u001b[39m\n\u001b[37m\u001b[39m\n\u001b[37m{                               \u001b[39m\n\u001b[37m    \u001b[33mfoobar:\u001b[37m \u001b[32m1337\u001b[37m,               \u001b[39m\n\u001b[37m    \u001b[36m\'baz-qux\':\u001b[37m \u001b[37m\u001b[37m\u001b[31mfunction\u001b[37m (\u001b[34ma, b\u001b[37m) \u001b[37m{\u001b[39m\n\u001b[37m        \u001b[31mreturn\u001b[37m \u001b[33m\'Wombat!\'\u001b[37m;       \u001b[39m\n\u001b[37m    }\u001b[37m                           \u001b[39m\n\u001b[37m}                               \u001b[39m\n\u001b[37m\u001b[39m\n\u001b[37m{                               \u001b[39m\n\u001b[37m    \u001b[33mfoobar:\u001b[37m \u001b[32m1337\u001b[37m,               \u001b[39m\n\u001b[37m    \u001b[36m\'baz-qux\':\u001b[37m \u001b[37m\u001b[37m\u001b[31mfunction\u001b[37m (\u001b[34ma, b\u001b[37m) \u001b[37m{\u001b[39m\n\u001b[37m        \u001b[31mreturn\u001b[37m \u001b[33m\'Wombat!\'\u001b[37m;       \u001b[39m\n\u001b[37m    }\u001b[37m                           \u001b[39m\n\u001b[37m}                               \u001b[39m\n\u001b[37m\u001b[39m'

// 	const result = ansiTo.html(ansiStr, {foo: 'bar'})
// 	console.log(result)
// })

// test('ansiTo', t => {
// 	t.is(typeof ansiTo, 'object')
// 	const ansi = '\u001b[1mbold            \u001b[22m \u001b[2mdim             \u001b[22m \u001b[3mitalic          \u001b[23m \u001b[4munderline       \u001b[24m \u001b[7minverse         \u001b[27m \u001b[9mstrikethrough   \u001b[29m \n\u001b[1m\u001b[30mblack           \u001b[39m\u001b[22m \u001b[1m\u001b[31mred             \u001b[39m\u001b[22m \u001b[1m\u001b[32mgreen           \u001b[39m\u001b[22m \u001b[1m\u001b[33myellow          \u001b[39m\u001b[22m \u001b[1m\u001b[34mblue            \u001b[39m\u001b[22m \u001b[1m\u001b[35mmagenta         \u001b[39m\u001b[22m \u001b[1m\u001b[36mcyan            \u001b[39m\u001b[22m \u001b[1m\u001b[37mwhite           \u001b[39m\u001b[22m \n\u001b[1m\u001b[90mgray            \u001b[39m\u001b[22m \u001b[30m\u001b[91mredBright       \u001b[30m\u001b[39m \u001b[30m\u001b[92mgreenBright     \u001b[30m\u001b[39m \u001b[30m\u001b[93myellowBright    \u001b[30m\u001b[39m \u001b[30m\u001b[94mblueBright      \u001b[30m\u001b[39m \u001b[30m\u001b[95mmagentaBright   \u001b[30m\u001b[39m \u001b[30m\u001b[96mcyanBright      \u001b[30m\u001b[39m \u001b[30m\u001b[97mwhiteBright     \u001b[30m\u001b[39m \n\u001b[37m\u001b[1m\u001b[40mbgBlack         \u001b[49m\u001b[22m\u001b[39m \u001b[30m\u001b[1m\u001b[41mbgRed           \u001b[49m\u001b[22m\u001b[39m \u001b[30m\u001b[1m\u001b[42mbgGreen         \u001b[49m\u001b[22m\u001b[39m \u001b[30m\u001b[1m\u001b[43mbgYellow        \u001b[49m\u001b[22m\u001b[39m \u001b[30m\u001b[1m\u001b[44mbgBlue          \u001b[49m\u001b[22m\u001b[39m \u001b[30m\u001b[1m\u001b[45mbgMagenta       \u001b[49m\u001b[22m\u001b[39m \u001b[30m\u001b[1m\u001b[46mbgCyan          \u001b[49m\u001b[22m\u001b[39m \u001b[30m\u001b[1m\u001b[47mbgWhite         \u001b[49m\u001b[22m\u001b[39m \n\u001b[37m\u001b[3m\u001b[100mbgBlackBright   \u001b[49m\u001b[23m\u001b[39m \u001b[30m\u001b[3m\u001b[101mbgRedBright     \u001b[49m\u001b[23m\u001b[39m \u001b[30m\u001b[3m\u001b[102mbgGreenBright   \u001b[49m\u001b[23m\u001b[39m \u001b[30m\u001b[3m\u001b[103mbgYellowBright  \u001b[49m\u001b[23m\u001b[39m \u001b[30m\u001b[3m\u001b[104mbgBlueBright    \u001b[49m\u001b[23m\u001b[39m \u001b[30m\u001b[3m\u001b[105mbgMagentaBright \u001b[49m\u001b[23m\u001b[39m \u001b[30m\u001b[3m\u001b[106mbgCyanBright    \u001b[49m\u001b[23m\u001b[39m \u001b[30m\u001b[3m\u001b[107mbgWhiteBright   \u001b[49m\u001b[23m\u001b[39m \n'
// 	// const colors = ansiTo.load.iTerm2Colors('./base16-f1lt3r-dark-256.itermcolors')
// 	// const opts = {colors}
// 	// const result = ansiTo.html(ansi, opts)
// 	const result = ansiTo.html(ansi)
// 	console.log(result)
// 	fs.writeFileSync('./result.html-color-names.html', result)
// })

test('itermcolors-f1lt3r-dark-256', t => {
	const colors = ansiTo.load.iTerm2Colors('./colors/base16-flat-dark-f1lt3r-256.itermcolors')
	const opts = {colors}
	const result = ansiTo.html(fixtures.chalkStylesAnsi, opts)
	t.is(result, '<pre style="color: #e0e0e0; background-color: #2c3e50"><code><span style="font-weight: bold">bold            </span> <span style="opacity: 0.5">dim             </span> <i>italic          </i> <span style="text-decoration: underline">underline       </span> inverse          <strike>strikethrough   </strike> <br><span style="font-weight: bold"><span style="color: #2c3e50">black           </span></span> <span style="font-weight: bold"><span style="color: #ce4435">red             </span></span> <span style="font-weight: bold"><span style="color: #2ecc71">green           </span></span> <span style="font-weight: bold"><span style="color: #e9bd0e">yellow          </span></span> <span style="font-weight: bold"><span style="color: #318fce">blue            </span></span> <span style="font-weight: bold"><span style="color: #9b59b6">magenta         </span></span> <span style="font-weight: bold"><span style="color: #1abc9c">cyan            </span></span> <span style="font-weight: bold"><span style="color: #e0e0e0">white           </span></span> <br><span style="font-weight: bold"><span style="color: #758283">gray            </span></span> <span style="color: #2c3e50"><span style="color: #ff5342">redBright       <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #39ff8d">greenBright     <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #fedb00">yellowBright    <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #0098ff">blueBright      <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #e500ff">magentaBright   <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #00ffcc">cyanBright      <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #f9fdff">whiteBright     <span style="color: #2c3e50"></span> <br><span style="color: #e0e0e0"><span style="font-weight: bold"><span style="background-color: #2c3e50">bgBlack         </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #ce4435">bgRed           </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #2ecc71">bgGreen         </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #e9bd0e">bgYellow        </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #318fce">bgBlue          </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #9b59b6">bgMagenta       </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #1abc9c">bgCyan          </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #e0e0e0">bgWhite         </span></span></span> <br><span style="color: #e0e0e0"><i>bgBlackBright   </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #ff5342">bgRedBright     </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #39ff8d">bgGreenBright   </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #fedb00">bgYellowBright  </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #0098ff">bgBlueBright    </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #e500ff">bgMagentaBright </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #00ffcc">bgCyanBright    </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #f9fdff">bgWhiteBright   </span></i></span> <br></code></pre>')
	fs.writeFileSync('./examples/itermcolors-f1lt3r-dark-256.html', result)
})
