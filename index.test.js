import fs from 'fs'
import test from 'ava'
import ansiTo from '.'

const fixtures = {
	chalkStylesAnsi: fs.readFileSync('./fixtures/fixture.chalk-styles.ansi').toString()
}

test('itermcolors-f1lt3r-dark-256', t => {
	const colors = ansiTo.load.iTerm2Colors('./colors/base16-flat-dark-f1lt3r-256.itermcolors')
	const opts = {colors}
	const result = ansiTo.html(fixtures.chalkStylesAnsi, opts)
	t.is(result, '<pre style="color: #e0e0e0; background-color: #2c3e50"><code><span style="font-weight: bold">bold            </span> <span style="opacity: 0.5">dim             </span> <i>italic          </i> <span style="text-decoration: underline">underline       </span> inverse          <strike>strikethrough   </strike> <br><span style="font-weight: bold"><span style="color: #2c3e50">black           </span></span> <span style="font-weight: bold"><span style="color: #ce4435">red             </span></span> <span style="font-weight: bold"><span style="color: #2ecc71">green           </span></span> <span style="font-weight: bold"><span style="color: #e9bd0e">yellow          </span></span> <span style="font-weight: bold"><span style="color: #318fce">blue            </span></span> <span style="font-weight: bold"><span style="color: #9b59b6">magenta         </span></span> <span style="font-weight: bold"><span style="color: #1abc9c">cyan            </span></span> <span style="font-weight: bold"><span style="color: #e0e0e0">white           </span></span> <br><span style="font-weight: bold"><span style="color: #758283">gray            </span></span> <span style="color: #2c3e50"><span style="color: #ff5342">redBright       <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #39ff8d">greenBright     <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #fedb00">yellowBright    <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #0098ff">blueBright      <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #e500ff">magentaBright   <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #00ffcc">cyanBright      <span style="color: #2c3e50"></span> <span style="color: #2c3e50"><span style="color: #f9fdff">whiteBright     <span style="color: #2c3e50"></span> <br><span style="color: #e0e0e0"><span style="font-weight: bold"><span style="background-color: #2c3e50">bgBlack         </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #ce4435">bgRed           </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #2ecc71">bgGreen         </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #e9bd0e">bgYellow        </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #318fce">bgBlue          </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #9b59b6">bgMagenta       </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #1abc9c">bgCyan          </span></span></span> <span style="color: #2c3e50"><span style="font-weight: bold"><span style="background-color: #e0e0e0">bgWhite         </span></span></span> <br><span style="color: #e0e0e0"><i>bgBlackBright   </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #ff5342">bgRedBright     </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #39ff8d">bgGreenBright   </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #fedb00">bgYellowBright  </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #0098ff">bgBlueBright    </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #e500ff">bgMagentaBright </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #00ffcc">bgCyanBright    </span></i></span> <span style="color: #2c3e50"><i><span style="background-color: #f9fdff">bgWhiteBright   </span></i></span> <br></code></pre>')
	fs.writeFileSync('./examples/itermcolors-f1lt3r-dark-256.html', result)
})
